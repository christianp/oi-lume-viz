---
title: SVG map
description: |
  A simple map to show GeoJSON. It can have place labels and markers.
order: 7
showcase: 2
component: map.svg
examples:
  - title: A basic map
    description: |
      The polygons are defined by the `geojson→data` key which loads a GeoJSON file (you may want to put your GeoJSON through our <a href="https://open-innovations.github.io/geojson-minify/">GeoJSON Minify tool</a> first).
      
      The `geojson→key` attribute is used to match a property in `geojson→data→features[]→properties` with the `key` attribute in the `data` rows e.g. we try to match the `code` attribute in the data (say "E08000016") with the `LAD21CD` key in the GeoJSON. The `value` key is the name of a column in the `data` that defines the colour to use for the polygon. A `tooltip` can also be specified as the name of a column in the `data`.
    config:
      data:
        - { code: "E08000016", name: "Barnsley" }
        - { code: "E08000032", name: "Bradford" }
        - { code: "E08000033", name: "Calderdale" }
        - { code: "E07000163", name: "Craven" }
        - { code: "E07000165", name: "Harrogate" }
        - { code: "E08000034", name: "Kirklees" }
        - { code: "E08000035", name: "Leeds" }
        - { code: "E07000169", name: "Selby" }
        - { code: "E08000036", name: "Wakefield" }
        - { code: "E06000014", name: "York" }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: code
      tooltip: name
  - title: Colour a map - defined colours
    description: |
      This example is mostly the same as the previous one but we've added a `colour` attribute to each item in `data` and we set `value` to that name so that each area gets a specific colour.
    config:
      data:
        - { code: "E08000016", name: "Barnsley", colour: "#E6007C" }
        - { code: "E08000032", name: "Bradford", colour: "#FF6700" }
        - { code: "E08000033", name: "Calderdale", colour: "#0DBC37" }
        - { code: "E07000163", name: "Craven", colour: "#178CFF" }
        - { code: "E07000165", name: "Harrogate", colour: "#2f529f" }
        - { code: "E08000034", name: "Kirklees", colour: "#722EA5" }
        - { code: "E08000035", name: "Leeds", colour: "#F9BC26" }
        - { code: "E07000169", name: "Selby", colour: "#1DD3A7" }
        - { code: "E08000036", name: "Wakefield", colour: "#EF3AAB" }
        - { code: "E06000014", name: "York", colour: "#F92626" }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: code
      tooltip: name
      value: colour
  - title: Colour a map - using a defined scale
    description: |
      In this example we'll use a numeric column (`Aged 15 years and under`) in the data to set the `value` to use along with `scale` to colour each area. The `scale` can be given as a known string (e.g. "Viridis") or a CSS-style gradient (e.g. "#ffe837 0%, #7d7d77 50%, #042450 100%"). The `min` and `max` for the `scale` will be calculated from the data unless provided.
    config:
      data:
        - { LAD21CD: "E08000016", "LAD21NM":"Barnsley", colour: "#E6007C","Aged 15 years and under":44782 }
        - { LAD21CD: "E08000032", "LAD21NM":"Bradford", colour: "#FF6700","Aged 15 years and under":124837 }
        - { LAD21CD: "E08000033", "LAD21NM":"Calderdale", colour: "#0DBC37","Aged 15 years and under":39997 }
        - { LAD21CD: "E07000163", "LAD21NM":"Craven", colour: "#178CFF","Aged 15 years and under":8643 }
        - { LAD21CD: "E07000165", "LAD21NM":"Harrogate", colour: "#2f529f","Aged 15 years and under":27362 }
        - { LAD21CD: "E08000034", "LAD21NM":"Kirklees", colour: "#722EA5","Aged 15 years and under":86941 }
        - { LAD21CD: "E08000035", "LAD21NM":"Leeds", colour: "#F9BC26","Aged 15 years and under":153483 }
        - { LAD21CD: "E07000169", "LAD21NM":"Selby", colour: "#1DD3A7","Aged 15 years and under":16556 }
        - { LAD21CD: "E08000036", "LAD21NM":"Wakefield", colour: "#EF3AAB","Aged 15 years and under":65832 }
        - { LAD21CD: "E06000014", "LAD21NM":"York", colour: "#F92626","Aged 15 years and under":30738 }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: LAD21CD
      value: Aged 15 years and under
      scale: Viridis
      tooltip: LAD21NM
  - title: Add a legend
    description: |
      Sometimes you need a `legend` with defined levels. To make this we first manually set `min` and `max` (otherwise they are calculated from the data and won't necessarily match our levels). We `position` (e.g. "top right") and add `items` to the legend. Each item has a `value` and `label`.
    config:
      data:
        - { LAD21CD: "E08000016", "LAD21NM":"Barnsley", colour: "#E6007C","Aged 15 years and under":44782,"Aged 16 to 24 years":22101,"Aged 25 to 34 years":32949,"Aged 35 to 49 years":44857,"Aged 50 to 64 years":52285,"Aged 65 years and over":47598 }
        - { LAD21CD: "E08000032", "LAD21NM":"Bradford", colour: "#FF6700","Aged 15 years and under":124837,"Aged 16 to 24 years":63079,"Aged 25 to 34 years":72559,"Aged 35 to 49 years":107702,"Aged 50 to 64 years":95233,"Aged 65 years and over":83001 }
        - { LAD21CD: "E08000033", "LAD21NM":"Calderdale", colour: "#0DBC37","Aged 15 years and under":39997,"Aged 16 to 24 years":19163,"Aged 25 to 34 years":24920,"Aged 35 to 49 years":39472,"Aged 50 to 64 years":43769,"Aged 65 years and over":39310 }
        - { LAD21CD: "E07000163", "LAD21NM":"Craven", colour: "#178CFF","Aged 15 years and under":8643,"Aged 16 to 24 years":4324,"Aged 25 to 34 years":5353,"Aged 35 to 49 years":9303,"Aged 50 to 64 years":13675,"Aged 65 years and over":15629 }
        - { LAD21CD: "E07000165", "LAD21NM":"Harrogate", colour: "#2f529f","Aged 15 years and under":27362,"Aged 16 to 24 years":14198,"Aged 25 to 34 years":16587,"Aged 35 to 49 years":29713,"Aged 50 to 64 years":36781,"Aged 65 years and over":38026 }
        - { LAD21CD: "E08000034", "LAD21NM":"Kirklees", colour: "#722EA5","Aged 15 years and under":86941,"Aged 16 to 24 years":47172,"Aged 25 to 34 years":54869,"Aged 35 to 49 years":83410,"Aged 50 to 64 years":84011,"Aged 65 years and over":76813 }
        - { LAD21CD: "E08000035", "LAD21NM":"Leeds", colour: "#F9BC26","Aged 15 years and under":153483,"Aged 16 to 24 years":113371,"Aged 25 to 34 years":121267,"Aged 35 to 49 years":157374,"Aged 50 to 64 years":139693,"Aged 65 years and over":126766 }
        - { LAD21CD: "E07000169", "LAD21NM":"Selby", colour: "#1DD3A7","Aged 15 years and under":16556,"Aged 16 to 24 years":7619,"Aged 25 to 34 years":11398,"Aged 35 to 49 years":17234,"Aged 50 to 64 years":20409,"Aged 65 years and over":18772 }
        - { LAD21CD: "E08000036", "LAD21NM":"Wakefield", colour: "#EF3AAB","Aged 15 years and under":65832,"Aged 16 to 24 years":31934,"Aged 25 to 34 years":48974,"Aged 35 to 49 years":67141,"Aged 50 to 64 years":72877,"Aged 65 years and over":66607 }
        - { LAD21CD: "E06000014", "LAD21NM":"York", colour: "#F92626","Aged 15 years and under":30738,"Aged 16 to 24 years":33671,"Aged 25 to 34 years":25845,"Aged 35 to 49 years":36356,"Aged 50 to 64 years":37478,"Aged 65 years and over":38733 }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: LAD21CD
      tooltip: LAD21NM
      value: Aged 15 years and under
      scale: Viridis
      min: 0
      max: 160000
      legend:
          position: top right
          items:
            - value: 160000
              label: 160k
            - value: 120000
              label: 120k
            - value: 80000
              label: 80k
            - value: 40000
              label: 40k
            - value: 0
              label: '0'
  - title: Custom tooltips
    description: |
      We will create a virtual column with the `name` "Tooltip label" to define the `tooltip` text. Virtual columns must have a `name` and `template` which can include existing columns from the data e.g. "{{ LAD21NM }}: {{ Aged 15 years and under }}" would use the `LAD21CD` and `Aged 15 years and under` values from the data. Replacement values (e.g. "{{ Aged 15 years and under }}") can use the following filters:
        - `toFixed(n)` - to limit a value to `n` decimal places
        - `multiply(n)` - to multiply a value by `n`
        - `toLocaleString()` - to use the locale's (of the server) preferred formatting for a value
        - `colourScale(scale,min,max)` - get a colour to, for example, use as a background style
        - `contrastColour` - get a contrasting colour (black or white)
    config:
      data:
        - { LAD21CD: "E08000016", "LAD21NM":"Barnsley", colour: "#E6007C","Aged 15 years and under":44782 }
        - { LAD21CD: "E08000032", "LAD21NM":"Bradford", colour: "#FF6700","Aged 15 years and under":124837 }
        - { LAD21CD: "E08000033", "LAD21NM":"Calderdale", colour: "#0DBC37","Aged 15 years and under":39997 }
        - { LAD21CD: "E07000163", "LAD21NM":"Craven", colour: "#178CFF","Aged 15 years and under":8643 }
        - { LAD21CD: "E07000165", "LAD21NM":"Harrogate", colour: "#2f529f","Aged 15 years and under":27362 }
        - { LAD21CD: "E08000034", "LAD21NM":"Kirklees", colour: "#722EA5","Aged 15 years and under":86941 }
        - { LAD21CD: "E08000035", "LAD21NM":"Leeds", colour: "#F9BC26","Aged 15 years and under":153483 }
        - { LAD21CD: "E07000169", "LAD21NM":"Selby", colour: "#1DD3A7","Aged 15 years and under":16556 }
        - { LAD21CD: "E08000036", "LAD21NM":"Wakefield", colour: "#EF3AAB","Aged 15 years and under":65832 }
        - { LAD21CD: "E06000014", "LAD21NM":"York", colour: "#F92626","Aged 15 years and under":30738 }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      columns:
        - name: Tooltip label
          template: "Aged 15 and under<br />{{ LAD21NM }}: {{ Aged 15 years and under | toLocaleString() }}"
      key: LAD21CD
      tooltip: Tooltip label
      value: colour
  - title: Place labels
    description: |
      We can add `places` to a layer above the interactive map. A place can be defined with the following properties:
        * `name` - the label to use for the place label
        * `latitude` - set the latitude of the label (can be omitted if it is a UK place we know about)
        * `longitude` - set the longitude of the label (can be omitted if it is a UK place we know about)
        * `text-anchor` - set to either `start`, `middle`, or `end` to anchor the text
        * `colour` - the colour of the label (default is black)
        * `border` - the colour of the label border (default is white)
        * `font-size` - manually set the font size (if omitted it will be scaled to the population where known)
        * `font-weight` - manually set the font weight (e.g. to "bold")
        * `font-family` - manually set the font family

      Be aware that place labels sit above the interactive layer so may block some interactivity.
    config:
      data:
        - { code: "E08000016", name: "Barnsley" }
        - { code: "E08000032", name: "Bradford" }
        - { code: "E08000033", name: "Calderdale" }
        - { code: "E07000163", name: "Craven" }
        - { code: "E07000165", name: "Harrogate" }
        - { code: "E08000034", name: "Kirklees" }
        - { code: "E08000035", name: "Leeds" }
        - { code: "E07000169", name: "Selby" }
        - { code: "E08000036", name: "Wakefield" }
        - { code: "E06000014", name: "York" }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: code
      tooltip: name
      places:
          - name: Bradford
            text-anchor: end
            font-size: 24
          - name: Leeds
            font-size: 32
            colour: "#722EA5"
            border: "#1DD3A7"
            font-weight: bold
          - name: Halifax
          - name: Harrogate
          - name: Huddersfield
          - name: Settle
            latitude: 54.0693
            longitude: -2.2790
          - name: Skipton
            latitude: 53.9619
            longitude: -2.0174
          - name: Wakefield
            text-anchor: start
            latitude: 53.68331
            longitude: -1.49768
          - name: York
  - title: Map markers
    description: |
      We can add `markers` to a layer above the interactive map. A marker can be defined with the following properties:
        * `icon` - can be either:
          * `string` - one of `default`, `geo`, `geo-alt`, `asterisk`, `pin`, `balloon`, `balloon-heart`, `chat-square`
          * `object` - define an icon using the following properties
            * `svg` - the SVG string to use
            * `size` - e.g. `[40,40]`
            * `anchor` - e.g. `[20,0]` 
        * `latitude` - set the latitude of the marker
        * `longitude` - set the longitude of the marker
        * `colour` - the colour of the label (default is black)
        * `tooltip` - the content of an optional tooltip

      Be aware that markers sit above the interactive layer so may block some interactivity.
    config:
      data:
        - { code: "E08000016", name: "Barnsley" }
        - { code: "E08000032", name: "Bradford" }
        - { code: "E08000033", name: "Calderdale" }
        - { code: "E07000163", name: "Craven" }
        - { code: "E07000165", name: "Harrogate" }
        - { code: "E08000034", name: "Kirklees" }
        - { code: "E08000035", name: "Leeds" }
        - { code: "E07000169", name: "Selby" }
        - { code: "E08000036", name: "Wakefield" }
        - { code: "E06000014", name: "York" }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: code
      tooltip: name
      markers:
        - icon:
            svg: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-award-fill" viewBox="0 0 16 16"><path d="m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864 8 0z"/><path d="M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"/></svg>'
            size: [30,30]
            anchor: [15,15]
          tooltip: "Barnsley marker"
          latitude: 53.5529
          longitude: -1.4825
          colour: "#EF3AAB"
        - icon: geo
          tooltip: "Bradford marker"
          latitude: 53.7944
          longitude: -1.7519
          colour: "#2254F4"
        - icon: balloon
          tooltip: "Huddersfield marker"
          latitude: 53.6463
          longitude: -1.7853
          colour: "#0DBC37"
        - icon: chat-square
          tooltip: "Halifax marker"
          latitude: 53.7211
          longitude: -1.8622
          colour: "#722EA5"
        - icon: geo-alt
          tooltip: "Leeds marker"
          latitude: 53.7968
          longitude: -1.5439
          colour: "#F9BC26"
        - icon: pin
          tooltip: "Wakefield marker"
          latitude: 53.68331
          longitude: -1.49768
          colour: "#D60303"
        - icon: asterisk
          tooltip: "York marker"
          latitude: 53.9601
          longitude: -1.0808
        - latitude: 53.9617
          longitude: -2.0201
  - title: Add a background
    description: |
      A non-interactive `background` can be added as a layer behind the interactive map. It should contain GeoJSON `data`. It can have its `colour` set. We can also adjust the map `bounds` if we'd like the view to cover an area smaller/larger than the bounds of the data. Note that the exact bounding of map will also depend on the aspect ratio that the map ends up on the end-user's display.
    config:
      data:
        - { code: "E08000016", "LAD21NM":"Barnsley", colour: "#E6007C","Aged 15 years and under":44782 }
        - { code: "E08000032", "LAD21NM":"Bradford", colour: "#FF6700","Aged 15 years and under":124837 }
        - { code: "E08000033", "LAD21NM":"Calderdale", colour: "#0DBC37","Aged 15 years and under":39997 }
        - { code: "E07000163", "LAD21NM":"Craven", colour: "#178CFF","Aged 15 years and under":8643 }
        - { code: "E07000165", "LAD21NM":"Harrogate", colour: "#2f529f","Aged 15 years and under":27362 }
        - { code: "E08000034", "LAD21NM":"Kirklees", colour: "#722EA5","Aged 15 years and under":86941 }
        - { code: "E08000035", "LAD21NM":"Leeds", colour: "#F9BC26","Aged 15 years and under":153483 }
        - { code: "E07000169", "LAD21NM":"Selby", colour: "#1DD3A7","Aged 15 years and under":16556 }
        - { code: "E08000036", "LAD21NM":"Wakefield", colour: "#EF3AAB","Aged 15 years and under":65832 }
        - { code: "E06000014", "LAD21NM":"York", colour: "#F92626","Aged 15 years and under":30738 }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: code
      tooltip: LAD21NM
      value: "Aged 15 years and under"
      scale: Viridis
      background:
        data: geojson.england
        colour: silver
      bounds:
        lat:
          min: 53.3
          max: 54.45
        lon:
          min: -3
          max: -0.3
---


{#
Other options include...
options:
  scale: "hsl(87, 57%, 86%) 0%, hsl(191, 57%, 15%) 100%"
  min: 0
  max: 5000000
  legend:
    position: top right
    items:
      - value: 5000000
        label: 5 million
      - value: 4000000
        label: 4 million
      - value: 3000000
        label: 3 million
      - value: 2000000
        label: 2 million
      - value: 1000000
        label: 1 million
      - value: 0
        label: '0'
#}