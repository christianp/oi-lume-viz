---
title: SVG map
component: map.svg
examples:
  - title: A basic map
    description: |
      The polygons are defined by the `geojson&rarr;data` key which loads a GeoJSON file (you may want to put your GeoJSON through our <a href="https://open-innovations.github.io/geojson-minify/">GeoJSON Minify tool</a> first).
      
      The `geojson&rarr;key` attribute is used to match a property in `geojson&rarr;data&rarr;features[]&rarr;properties` with the `key` attribute in the `data` rows e.g. we try to match the `code` attribute in the data (say "E08000016") with the `LAD21CD` key in the GeoJSON. The `value` key is the name of a column in the `data` that defines the colour to use for the polygon. A `tooltip` can also be specified as the name of a column in the `data`.
    config:
      data:
        - { code: "E08000016", name: "Barnsley" }
        - { code: "E08000032", name: "Bradford" }
        - { code: "E08000033", name: "Calderdale" }
        - { code: "E07000163", name: "Craven" }
        - { code: "E07000165", name: "Harrogate" }
        - { code: "E08000034", name: "Kirklees" }
        - { code: "E08000035", name: "Leeds" }
        - { code: "E07000169", name: "Selby" }
        - { code: "E08000036", name: "Wakefield" }
        - { code: "E06000014", name: "York" }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: code
      tooltip: name
  - title: Colour a map - defined colours
    description: |
      This example is mostly the same as the previous one but we've added a `colour` attribute to each item in `data` and we set `value` to that name so that each area gets a specific colour.
    config:
      data:
        - { code: "E08000016", name: "Barnsley", colour: "#E6007C" }
        - { code: "E08000032", name: "Bradford", colour: "#FF6700" }
        - { code: "E08000033", name: "Calderdale", colour: "#0DBC37" }
        - { code: "E07000163", name: "Craven", colour: "#178CFF" }
        - { code: "E07000165", name: "Harrogate", colour: "#2f529f" }
        - { code: "E08000034", name: "Kirklees", colour: "#722EA5" }
        - { code: "E08000035", name: "Leeds", colour: "#F9BC26" }
        - { code: "E07000169", name: "Selby", colour: "#1DD3A7" }
        - { code: "E08000036", name: "Wakefield", colour: "#EF3AAB" }
        - { code: "E06000014", name: "York", colour: "#F92626" }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: code
      tooltip: name
      value: colour
  - title: Colour a map - using a defined scale
    description: |
      In this example we'll use a numeric column (`Aged 15 years and under`) in the data to set the `value` to use along with `scale` to colour each area. The `scale` can be given as a known string (e.g. "Viridis") or a CSS-style gradient (e.g. "#ffe837 0%, #7d7d77 50%, #042450 100%"). The `min` and `max` for the `scale` will be calculated from the data unless provided.
      
      We will create a virtual column in the data named `Tooltip label` built using a `template` and use this to define the tooltip.
    config:
      data:
        - { LAD21CD: "E08000016", "LAD21NM":"Barnsley", colour: "#E6007C","Aged 15 years and under":44782 }
        - { LAD21CD: "E08000032", "LAD21NM":"Bradford", colour: "#FF6700","Aged 15 years and under":124837 }
        - { LAD21CD: "E08000033", "LAD21NM":"Calderdale", colour: "#0DBC37","Aged 15 years and under":39997 }
        - { LAD21CD: "E07000163", "LAD21NM":"Craven", colour: "#178CFF","Aged 15 years and under":8643 }
        - { LAD21CD: "E07000165", "LAD21NM":"Harrogate", colour: "#2f529f","Aged 15 years and under":27362 }
        - { LAD21CD: "E08000034", "LAD21NM":"Kirklees", colour: "#722EA5","Aged 15 years and under":86941 }
        - { LAD21CD: "E08000035", "LAD21NM":"Leeds", colour: "#F9BC26","Aged 15 years and under":153483 }
        - { LAD21CD: "E07000169", "LAD21NM":"Selby", colour: "#1DD3A7","Aged 15 years and under":16556 }
        - { LAD21CD: "E08000036", "LAD21NM":"Wakefield", colour: "#EF3AAB","Aged 15 years and under":65832 }
        - { LAD21CD: "E06000014", "LAD21NM":"York", colour: "#F92626","Aged 15 years and under":30738 }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      columns:
        - name: Tooltip label
          template: "Aged 15 and under<br />{{ LAD21NM }}: {{ Aged 15 years and under | toLocaleString() }}"
      key: LAD21CD
      tooltip: Tooltip label
      value: Aged 15 years and under
      scale: Viridis
  - title: Add a legend
    description: |
      Sometimes you need a `legend` with defined levels. To make this we first manually set `min` and `max` (otherwise they are calculated from the data and won't necessarily match our levels). We `position` (e.g. "top right") and add `items` to the legend. Each item has a `value` and `label`.
    config:
      data:
        - { LAD21CD: "E08000016", "LAD21NM":"Barnsley", colour: "#E6007C","Aged 15 years and under":44782,"Aged 16 to 24 years":22101,"Aged 25 to 34 years":32949,"Aged 35 to 49 years":44857,"Aged 50 to 64 years":52285,"Aged 65 years and over":47598 }
        - { LAD21CD: "E08000032", "LAD21NM":"Bradford", colour: "#FF6700","Aged 15 years and under":124837,"Aged 16 to 24 years":63079,"Aged 25 to 34 years":72559,"Aged 35 to 49 years":107702,"Aged 50 to 64 years":95233,"Aged 65 years and over":83001 }
        - { LAD21CD: "E08000033", "LAD21NM":"Calderdale", colour: "#0DBC37","Aged 15 years and under":39997,"Aged 16 to 24 years":19163,"Aged 25 to 34 years":24920,"Aged 35 to 49 years":39472,"Aged 50 to 64 years":43769,"Aged 65 years and over":39310 }
        - { LAD21CD: "E07000163", "LAD21NM":"Craven", colour: "#178CFF","Aged 15 years and under":8643,"Aged 16 to 24 years":4324,"Aged 25 to 34 years":5353,"Aged 35 to 49 years":9303,"Aged 50 to 64 years":13675,"Aged 65 years and over":15629 }
        - { LAD21CD: "E07000165", "LAD21NM":"Harrogate", colour: "#2f529f","Aged 15 years and under":27362,"Aged 16 to 24 years":14198,"Aged 25 to 34 years":16587,"Aged 35 to 49 years":29713,"Aged 50 to 64 years":36781,"Aged 65 years and over":38026 }
        - { LAD21CD: "E08000034", "LAD21NM":"Kirklees", colour: "#722EA5","Aged 15 years and under":86941,"Aged 16 to 24 years":47172,"Aged 25 to 34 years":54869,"Aged 35 to 49 years":83410,"Aged 50 to 64 years":84011,"Aged 65 years and over":76813 }
        - { LAD21CD: "E08000035", "LAD21NM":"Leeds", colour: "#F9BC26","Aged 15 years and under":153483,"Aged 16 to 24 years":113371,"Aged 25 to 34 years":121267,"Aged 35 to 49 years":157374,"Aged 50 to 64 years":139693,"Aged 65 years and over":126766 }
        - { LAD21CD: "E07000169", "LAD21NM":"Selby", colour: "#1DD3A7","Aged 15 years and under":16556,"Aged 16 to 24 years":7619,"Aged 25 to 34 years":11398,"Aged 35 to 49 years":17234,"Aged 50 to 64 years":20409,"Aged 65 years and over":18772 }
        - { LAD21CD: "E08000036", "LAD21NM":"Wakefield", colour: "#EF3AAB","Aged 15 years and under":65832,"Aged 16 to 24 years":31934,"Aged 25 to 34 years":48974,"Aged 35 to 49 years":67141,"Aged 50 to 64 years":72877,"Aged 65 years and over":66607 }
        - { LAD21CD: "E06000014", "LAD21NM":"York", colour: "#F92626","Aged 15 years and under":30738,"Aged 16 to 24 years":33671,"Aged 25 to 34 years":25845,"Aged 35 to 49 years":36356,"Aged 50 to 64 years":37478,"Aged 65 years and over":38733 }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      columns:
        - name: Tooltip label
          template: "Aged 15 and under<br />{{ LAD21NM }}: {{ Aged 15 years and under | toLocaleString() }}"
      key: LAD21CD
      tooltip: Tooltip label
      value: Aged 15 years and under
      scale: Viridis
      min: 0
      max: 160000
      legend:
          position: top right
          items:
            - value: 160000
              label: 160k
            - value: 120000
              label: 120k
            - value: 80000
              label: 80k
            - value: 40000
              label: 40k
            - value: 0
              label: '0'
  - title: Place labels
    description: |
      We can add `places` to a map. A place can be defined with the following properties:
        * `name` - the label to use for the place marker
        * `latitude` - set the latitude of the marker (can be omitted if it is a UK place we know about)
        * `longitude` - set the longitude of the marker (can be omitted if it is a UK place we know about)
        * `text-anchor` - set to either `start`, `middle`, or `end` to anchor the text
        * `colour` - the colour of the label (default is black)
        * `border` - the colour of the label border (default is white)
        * `font-size` - manually set the font size (if omitted it will be scaled to the population where known)
        * `font-weight` - manually set the font weight (e.g. to "bold")
        * `font-family` - manually set the font family
    config:
      data:
        - { code: "E08000016", name: "Barnsley" }
        - { code: "E08000032", name: "Bradford" }
        - { code: "E08000033", name: "Calderdale" }
        - { code: "E07000163", name: "Craven" }
        - { code: "E07000165", name: "Harrogate" }
        - { code: "E08000034", name: "Kirklees" }
        - { code: "E08000035", name: "Leeds" }
        - { code: "E07000169", name: "Selby" }
        - { code: "E08000036", name: "Wakefield" }
        - { code: "E06000014", name: "York" }
      geojson:
        key: LAD21CD
        data: geojson.leeds_city_region
      key: code
      tooltip: name
      places:
          - name: Bradford
            text-anchor: end
          - name: Leeds
            font-size: 20
            colour: "#722EA5"
            border: "#1DD3A7"
            font-weight: bold
          - name: Halifax
          - name: Harrogate
          - name: Huddersfield
          - name: Settle
            latitude: 54.0693
            longitude: -2.2790
          - name: Skipton
            latitude: 53.9619
            longitude: -2.0174
          - name: Wakefield
            text-anchor: start
            latitude: 53.68331
            longitude: -1.49768
          - name: York
---


{#
Other options include...
options:
  scale: "hsl(87, 57%, 86%) 0%, hsl(191, 57%, 15%) 100%"
  min: 0
  max: 5000000
  columns:
    - name: Label
      template: '{{ Region name }}<br />2020: {{ 2020 | toLocaleString() }} jobs'
  places:
    - name: London
      text-anchor: start
      longitude: 0.8
      latitude: 51.4
    - name: Liverpool
      text-anchor: "end"
    - name: Swansea
      text-anchor: "end"
      latitude: 51.4
    - name: Edinburgh
      text-anchor: start
  legend:
    position: top right
    items:
      - value: 5000000
        label: 5 million
      - value: 4000000
        label: 4 million
      - value: 3000000
        label: 3 million
      - value: 2000000
        label: 2 million
      - value: 1000000
        label: 1 million
      - value: 0
        label: '0'
#}